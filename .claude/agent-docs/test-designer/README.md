# Test Designer Agent - ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì „ëµ

**Phase**: Phase 2 - Test Design
**ìƒíƒœ**: ì™„ë£Œ
**ì‘ì„±ì¼**: 2025-10-30

---

## ğŸ“ ë¬¸ì„œ êµ¬ì¡°

### í•µì‹¬ ë¬¸ì„œ

#### 1. í…ŒìŠ¤íŠ¸ ì „ëµ ìƒì„¸ ë¬¸ì„œ
**íŒŒì¼**: `logs/2025-10-30_repeat-event-test-strategy.md` (1,114ì¤„)

ë°˜ë³µ ì¼ì • ê¸°ëŠ¥ì— ëŒ€í•œ ì™„ì „í•œ í…ŒìŠ¤íŠ¸ ì „ëµ ëª…ì„¸:
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ 67ê°œ+ ìƒì„¸ ì„¤ê³„
- MSW í•¸ë“¤ëŸ¬ ì „ëµ (3ê°œ ì‹ ê·œ ì—”ë“œí¬ì¸íŠ¸)
- í…ŒìŠ¤íŠ¸ ë°ì´í„° ë° í”½ìŠ¤ì²˜
- ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ë° ì‹¤í–‰ ê³„íš
- GWT íŒ¨í„´ ì ìš© ê°€ì´ë“œ
- ì—£ì§€ ì¼€ì´ìŠ¤ ë° íŠ¹ìˆ˜ í…ŒìŠ¤íŠ¸ ì „ëµ

**ëŒ€ìƒ ë…ì**: test-writer ì—ì´ì „íŠ¸ (Phase 3)

#### 2. í…ŒìŠ¤íŠ¸ ì „ëµ ìš”ì•½ ë¬¸ì„œ
**íŒŒì¼**: `logs/TEST_STRATEGY_SUMMARY.md` (300ì¤„)

í…ŒìŠ¤íŠ¸ ì „ëµì˜ í•µì‹¬ ìš”ì•½:
- í…ŒìŠ¤íŠ¸ ê³„íš ê°œìš” (67ê°œ+ ì¼€ì´ìŠ¤)
- í…ŒìŠ¤íŠ¸ íŒŒì¼ë³„ êµ¬ì„± (ë‹¨ìœ„/í›…/í†µí•©)
- ì»¤ë²„ë¦¬ì§€ ëª©í‘œ (80% ì´ìƒ)
- Phaseë³„ ì‹¤í–‰ ìˆœì„œ
- ê²€ì¦ ì™„ë£Œ í•­ëª©

**ëŒ€ìƒ ë…ì**: í”„ë¡œì íŠ¸ ë¦¬ë”, orchestrator

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì „ëµ í•µì‹¬ ìš”ì•½

### í…ŒìŠ¤íŠ¸ ê·œëª¨

| í•­ëª© | ê°œìˆ˜ | íŒŒì¼ |
|-----|------|------|
| ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | 35+ | `task.repeatUtils.spec.ts` |
| í›… í…ŒìŠ¤íŠ¸ | 16+ | `task.useEventOperations.spec.ts` |
| í†µí•© í…ŒìŠ¤íŠ¸ | 13+ | `task.repeat-event-integration.spec.ts` |
| ì¶”ê°€ í…ŒìŠ¤íŠ¸ | 3 | `easy.eventOverlap.spec.ts` (ìˆ˜ì •) |
| **ì´ê³„** | **67+** | **4 íŒŒì¼** |

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë¶„í¬

```
generateRepeatDates (15ê°œ)
â”œâ”€ ë§¤ì¼ ë°˜ë³µ
â”œâ”€ ë§¤ì£¼ ë°˜ë³µ
â”œâ”€ ë§¤ì›” ë°˜ë³µ (31ì¼ íŠ¹ìˆ˜ ê·œì¹™)
â”œâ”€ ë§¤ë…„ ë°˜ë³µ (ìœ¤ë…„ ê·œì¹™)
â””â”€ ì˜ˆì™¸ ì²˜ë¦¬

getNextRepeatDate (7ê°œ)
â”œâ”€ ë§¤ì¼/ì£¼/ì›”/ë…„ ê³„ì‚°
â”œâ”€ ë‹¤ì–‘í•œ ê°„ê²©
â””â”€ ì˜ˆì™¸ ì²˜ë¦¬

isValid31stMonthly (5ê°œ)
â”œâ”€ 31ì¼ ìˆëŠ” ë‹¬
â”œâ”€ 31ì¼ ì—†ëŠ” ë‹¬
â””â”€ ë‹¤ì–‘í•œ ì¼ì

isValidLeapYearFeb29 (5ê°œ)
â”œâ”€ ìœ¤ë…„ (2024, 2000)
â”œâ”€ í‰ë…„ (2025, 1900)
â””â”€ 100ë…„/400ë…„ ê²½ê³„

í—¬í¼ í•¨ìˆ˜ (3ê°œ)
â”œâ”€ formatRepeatInfo
â””â”€ isLeapYear ë“±

API í†µì‹  (16ê°œ)
â”œâ”€ saveRecurringEvents (5ê°œ)
â”œâ”€ updateRecurringSeries (4ê°œ)
â”œâ”€ deleteRecurringSeries (4ê°œ)
â”œâ”€ saveEvent ë¶„ê¸° ë¡œì§ (3ê°œ)

E2E & í†µí•© (13ê°œ)
â”œâ”€ ì™„ì „í•œ íë¦„ (4ê°œ)
â”œâ”€ íŠ¹ìˆ˜ ê·œì¹™ (3ê°œ)
â”œâ”€ ê²¹ì¹¨ ì œì™¸ (3ê°œ)
â”œâ”€ ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤ (3ê°œ)

ê²¹ì¹¨ ì œì™¸ (3ê°œ)
â”œâ”€ ë°˜ë³µ ì¼ì • ì œì™¸
â”œâ”€ ì¼ë°˜ ì¼ì • ê²¹ì¹¨
â””â”€ ë°˜ë³µ ì¼ì • ê²¹ì¹¨
```

### ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

- **ì „ì²´**: 80% ì´ìƒ
- **í•µì‹¬ í•¨ìˆ˜**: 100%
  - `generateRepeatDates`: 100%
  - `getNextRepeatDate`: 100%
  - `isValid31stMonthly`: 100%
  - `isValidLeapYearFeb29`: 100%
- **API í›…**: 90% ì´ìƒ
- **ê²¹ì¹¨ ë¡œì§**: 90% ì´ìƒ

---

## ğŸ”§ ê¸°ìˆ  ì‚¬ì–‘

### ì¶”ê°€ë˜ëŠ” MSW í•¸ë“¤ëŸ¬ (3ê°œ)

```typescript
// 1. ë°°ì¹˜ ìƒì„±
POST /api/events-list
ìš”ì²­: { events: EventForm[] }
ì‘ë‹µ: { events: Event[] } (repeatId í¬í•¨)

// 2. ì‹œë¦¬ì¦ˆ ìˆ˜ì •
PUT /api/recurring-events/:repeatId
ìš”ì²­: UpdateRecurringSeriesRequest
ì‘ë‹µ: 200 ë˜ëŠ” 404

// 3. ì‹œë¦¬ì¦ˆ ì‚­ì œ
DELETE /api/recurring-events/:repeatId
ìš”ì²­: (ë³¸ë¬¸ ì—†ìŒ)
ì‘ë‹µ: 204 ë˜ëŠ” 404
```

### í…ŒìŠ¤íŠ¸ ë°ì´í„° í”½ìŠ¤ì²˜

**ë°˜ë³µ ìœ í˜•ë³„ ìƒ˜í”Œ**:
- ë§¤ì¼: 5ì¼ ë°˜ë³µ (1ì›” 15-20ì¼)
- ë§¤ì£¼: 5ì£¼ ë°˜ë³µ (1ì›” 15 - 2ì›” 15ì¼)
- ë§¤ì›” 31ì¼: 7ê°œì›” (1,3,5,7,8,10,12ì›”)
- ë§¤ë…„ 2ì›” 29ì¼: 4ë…„ ì£¼ê¸° (2024,2028,2032)

### GWT íŒ¨í„´ ì ìš©

ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” 3ë‹¨ê³„ êµ¬ì¡°:
```typescript
it('í•œê¸€ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…', () => {
  // Given: í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¤€ë¹„
  // When: ë™ì‘ ì‹¤í–‰
  // Then: ê²°ê³¼ ê²€ì¦
});
```

---

## ğŸ“‹ íŠ¹ìˆ˜ ê·œì¹™ í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. 31ì¼ ë§¤ì›” ë°˜ë³µ

**ê·œì¹™**: 31ì¼ì´ ìˆëŠ” ë‹¬(1,3,5,7,8,10,12ì›”)ì—ë§Œ ìƒì„±

**í…ŒìŠ¤íŠ¸ ë§¤íŠ¸ë¦­ìŠ¤**:
| ê¸°ì¤€ì›” | ë°˜ë³µ ì¢…ë£Œ | ì˜ˆìƒ ê°œìˆ˜ | í¬í•¨ ì›” |
|--------|---------|---------|--------|
| 2025-01 | 2025-12 | 7 | 1,3,5,7,8,10,12 |
| 2024-01 | 2024-12 | 7 | (ë™ì¼) |

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:
- âœ“ ë§¤ì›” 31ì¼ ë°˜ë³µ (ê¸°ë³¸)
- âœ“ ë§¤ì›” 30ì¼ ë°˜ë³µ (2ì›” ê±´ë„ˆëœ€)
- âœ“ ë‹¤ì–‘í•œ ì‹œì‘ì›” (ëª¨ë‘ 31ì¼ ìˆëŠ” ë‹¬ë§Œ)

### 2. ìœ¤ë…„ 2ì›” 29ì¼ ë°˜ë³µ

**ê·œì¹™**: ìœ¤ë…„ì˜ 2ì›” 29ì¼ì—ë§Œ ìƒì„± (4ë…„ ì£¼ê¸°, 100ë…„/400ë…„ ì˜ˆì™¸)

**í…ŒìŠ¤íŠ¸ ë§¤íŠ¸ë¦­ìŠ¤**:
| ê¸°ì¤€ì—°ë„ | ë°˜ë³µ ì¢…ë£Œ | ì˜ˆìƒ ê°œìˆ˜ | í¬í•¨ ì—°ë„ |
|---------|---------|---------|---------|
| 2024 | 2032 | 3 | 2024,2028,2032 |
| 2000 | 2008 | 3 | 2000,2004,2008 |

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:
- âœ“ í‘œì¤€ ìœ¤ë…„ (4ë…„ ì£¼ê¸°)
- âœ“ 100ë…„ ê²½ê³„ (1900ì€ í‰ë…„, 2000ì€ ìœ¤ë…„)
- âœ“ 400ë…„ ì˜ˆì™¸ ì²˜ë¦¬

---

## ğŸš€ ì‹¤í–‰ ê³„íš

### Phase 3: RED - Test Writing (test-writer)
**ê¸°ê°„**: ì•½ 2ì‹œê°„
**ì‚°ì¶œë¬¼**:
1. `src/__tests__/unit/task.repeatUtils.spec.ts` (35ê°œ ì¼€ì´ìŠ¤)
2. `src/__tests__/hooks/task.useEventOperations.spec.ts` (16ê°œ ì¼€ì´ìŠ¤)
3. `src/__tests__/integration/task.repeat-event-integration.spec.ts` (13ê°œ ì¼€ì´ìŠ¤)
4. `src/__tests__/unit/easy.eventOverlap.spec.ts` (ì¶”ê°€ 3ê°œ)

**ì„±ê³µ ê¸°ì¤€**:
```bash
pnpm test
# ê²°ê³¼: 0 passed, 67 failed (ì˜ˆìƒ)
```

### Phase 4: GREEN - Implementation (code-writer)
**ê¸°ê°„**: ì•½ 2.5ì‹œê°„
**êµ¬í˜„ ìˆœì„œ**:
1. `src/types.ts` - ë°°ì¹˜ API íƒ€ì… ì¶”ê°€
2. `src/utils/repeatUtils.ts` - ìœ í‹¸ í•¨ìˆ˜ êµ¬í˜„
3. `src/utils/eventOverlap.ts` - ê²¹ì¹¨ ì œì™¸ ë¡œì§
4. `src/hooks/useEventOperations.ts` - ë°°ì¹˜ API ë©”ì„œë“œ
5. `src/App.tsx` - UI í†µí•©

**ì„±ê³µ ê¸°ì¤€**:
```bash
pnpm test
# ê²°ê³¼: 67 passed, 0 failed
pnpm test:coverage
# ê²°ê³¼: 80% ì´ìƒ ì»¤ë²„ë¦¬ì§€
```

### Phase 5-6: REFACTOR & VALIDATE
**ê¸°ê°„**: ì•½ 2ì‹œê°„
**í™œë™**:
- ì½”ë“œ í’ˆì§ˆ ê°œì„ 
- ìµœì¢… ê²€ì¦ ë° ë³´ê³ ì„œ

---

## ğŸ“š ë¬¸ì„œ ë„¤ë¹„ê²Œì´ì…˜

### ìƒì„¸ ë¬¸ì„œ (phase-specific)
- [Feature Spec](../feature-designer/logs/2025-10-30_repeat-event-spec.md) - ê¸°ëŠ¥ ëª…ì„¸
- [Work Plan](../orchestrator/logs/2025-10-30_repeat-event-plan.md) - ì „ì²´ ì‘ì—… ê³„íš
- **[Test Strategy](./logs/2025-10-30_repeat-event-test-strategy.md)** - í…ŒìŠ¤íŠ¸ ì „ëµ â† **í˜„ì¬ ë¬¸ì„œ**

### ì°¸ê³  ìë£Œ
- [CLAUDE.md](../../CLAUDE.md) - í”„ë¡œì íŠ¸ ê·œì¹™
- ê¸°ì¡´ í…ŒìŠ¤íŠ¸: `src/__tests__/` í´ë”ì˜ `easy.*` ë° `medium.*` í…ŒìŠ¤íŠ¸

---

## âœ… í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì„¤ê³„ ì™„ë£Œ í•­ëª©
- [x] 67ê°œ+ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì„¤ê³„
- [x] GWT íŒ¨í„´ ì •ì˜
- [x] íŠ¹ìˆ˜ ê·œì¹™(31ì¼, ìœ¤ë…„) í¬í•¨
- [x] ì—£ì§€ ì¼€ì´ìŠ¤ ì‹ë³„
- [x] MSW í•¸ë“¤ëŸ¬ ëª…ì„¸
- [x] í…ŒìŠ¤íŠ¸ ë°ì´í„° í”½ìŠ¤ì²˜
- [x] ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ì„¤ì •
- [x] ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš

### ë‹¤ìŒ ë‹´ë‹¹ì (test-writer) í™•ì¸ì‚¬í•­
- [ ] í…ŒìŠ¤íŠ¸ íŒŒì¼ 67ê°œ+ ì‘ì„±
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ RED ìƒíƒœ í™•ì¸
- [ ] í…ŒìŠ¤íŠ¸ ë¬¸ë²• ì—ëŸ¬ ì—†ìŒ
- [ ] í…ŒìŠ¤íŠ¸ ì´ë¦„ í•œê¸€ ì‘ì„±
- [ ] GWT íŒ¨í„´ ì ìš©

---

## ğŸ“ ì—°ë½ì²˜ ë° ì¶”ê°€ ì§ˆë¬¸

**í˜„ì¬ ë‹´ë‹¹**: test-designer agent
**ë‹¤ìŒ ë‹´ë‹¹**: test-writer agent
**ê¸°ìˆ  ë¬¸ì œ**: code-writer agent

ê° ë¬¸ì„œì˜ ëì— **ì¶”ê°€ ì§ˆë¬¸** ì„¹ì…˜ì„ ì°¸ê³ í•˜ì„¸ìš”.

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-30
**ìƒíƒœ**: âœ… Phase 2 ì™„ë£Œ, Phase 3 ëŒ€ê¸° ì¤‘
**ë‹¤ìŒ ë‹¨ê³„**: test-writer ì—ì´ì „íŠ¸ í˜¸ì¶œ (Phase 3: RED)
